pipeline {
    agent { docker 'jlrigau/maven-git' } 
    stages {
        stage('Example Build') {
            steps {
                 sh 'mvn --version'
                sh 'java -version'
                sh 'git --version'
                sh 'python --version'
                sh 'mkdir -p work'
                sh 'cd work'
                withCredentials([sshUserPrivateKey(credentialsId: '53f245a5-f460-46f4-b3f2-1fdd107df4fc', keyFileVariable: 'key_file', passphraseVariable: 'pass', usernameVariable: 'user')]) {
                    // some block
                    sh 'ssh-add -l'
                    //sh 'git clone git@github.com:rihou/hello.git'
                    git branch: 'master', credentialsId: '53f245a5-f460-46f4-b3f2-1fdd107df4fc',
                         url: 'git@github.com:rihou/hello.git'
                }
                sh 'ls -al'
            }
        }
    }
}